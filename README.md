# Allure Single-File Custom Report Generator

This project generates a **single static Allure report** with advanced customizations, including a custom Base64 logo (via CSS), favicon (via `allure.properties`), celebration animation, custom report title (via `allure.properties`), and a custom footer. The report is automatically opened in your default browser after test execution.

---

## Features

- **Single-file HTML Allure report** for easy sharing and archiving.
- **Custom branding:** Add your own logo (Base64 in CSS) and favicon (Base64 in `allure.properties`).
- **Celebration animation** on report open.
- **Custom report title** via `allure.properties`.
- **Automatic report opening** after execution.
- **Custom CSS and JS** injection for further personalization.
- **Custom footer** support.

---

## Sample Screenshot

Below is a sample screenshot of the customized Allure report generated by this project:

[Sample Allure Report](screenshots/sample-report.png) [Sample Report Video](reports/allure-report.mp4)
<img width="1920" height="1080" alt="Screenshot 2025-08-30 192254" src="https://github.com/user-attachments/assets/64baaa31-03ff-46eb-8953-aea7190f6c72" />


---

## Project Structure

```
.
├── pom.xml
├── testng.xml
├── src/
│   ├── main/
│   │   └── java/
│   │       └── listener/
│   │           └── AllureTestListener.java
│   └── test/
│       └── resources/
│           ├── allure.properties
│           └── custom-logo-plugin/
│               ├── index.js
│               └── style.css
├── reports/
│   └── allure-report-*.html
├── allure-results/
│   └── *.json
└── screenshots/
    └── sample-report.png
```

---

## Prerequisites & Setup

### 1. Install Required Tools

- **Java 17+**
- **Maven**
- **Allure CLI** ([installation guide](https://docs.qameta.io/allure/#_installing_a_commandline))

### 2. Prepare Project Structure

Ensure your project contains the following folders and files:

```
src/
  test/
    resources/
      custom-logo-plugin/
        index.js
        style.css
```

### 3. Add Your Base64 Logo & Favicon

- **Logo:**  
  Convert your logo image to Base64 (e.g., using [base64-image.de](https://www.base64-image.de/)).  
  Embed the Base64 logo in your CSS:

    ```css
    /* src/test/resources/custom-logo-plugin/style.css */
    .side-nav__brand {
      background: url("data:image/png;base64,PASTE_YOUR_BASE64_LOGO_HERE") no-repeat center center;
      background-size: contain;
      height: 60px;
    }
    .side-nav__brand svg,
    .side-nav__brand img {
      display: none !important;
    }
    ```

- **Favicon:**  
  Convert your favicon to Base64 and set it in `allure.properties`:

    ```properties
    allure.report.favicon=data:image/png;base64,PASTE_YOUR_BASE64_FAVICON_HERE
    ```

### 4. Customize the Plugin

- **Edit `index.js`** to add celebration animation, video, or footer if needed.
- **Edit `style.css`** for logo, footer, and other custom styles.

    ```css
    /* Example footer styling */
    footer {
      background: #f8f8f8;
      border-top: 1px solid #e0e0e0;
      position: fixed;
      width: 100%;
      bottom: 0;
      left: 0;
      z-index: 999;
      text-align: center;
      padding: 16px;
      font-size: 14px;
      color: #888;
    }
    ```

    ```js
    // src/test/resources/custom-logo-plugin/index.js
    window.addEventListener('DOMContentLoaded', function() {
      // Celebration animation logic here (optional)

      // Custom Footer
      const footer = document.createElement('footer');
      footer.innerHTML = `
        © 2025 Your Company Name. All rights reserved. | Custom Allure Report Footer
      `;
      document.body.appendChild(footer);
    });
    ```

### 5. Reference the Plugin in Your Report Generation

- Ensure your report generation logic (e.g., in `AllureTestListener.java`) injects the custom JS and CSS into the generated HTML.
- The favicon and report title are set via `allure.properties`:

    ```properties
    allure.report.favicon=data:image/png;base64,PASTE_YOUR_BASE64_FAVICON_HERE
    allure.report.title=Your Custom Report Title
    ```

### 6. Run and View the Report

- Run your tests with Maven:

    ```sh
    mvn clean test
    ```

- The report will be generated as a single HTML file in the `reports/` directory and will open automatically.

---

## How It Works

1. **Test Execution:** Run your tests with TestNG.
2. **Allure Results:** Test results are saved in `allure-results/`.
3. **Report Generation:**  
   The `AllureTestListener` triggers report generation on suite finish:
   - Runs the Allure CLI to generate a single-file HTML report.
   - Reads customization options from `allure.properties`.
   - Injects custom CSS, JS, logo (via CSS), favicon, and title into the HTML.
   - Saves the final report in the `reports/` directory.
   - Opens the report automatically in your default browser.

---

## Customization

- **Logo & Animation:**  
  Customize `style.css` for your logo and `index.js` for animation.
- **Favicon:**  
  Set `allure.report.favicon` to a Base64 data URL in `allure.properties`.
- **Report Title:**  
  Set `allure.report.title` in `allure.properties`.
- **Footer:**  
  Add or modify the footer in `index.js` and style it in `style.css`.

---

## Troubleshooting

- If the report does not open automatically, check the console output for errors.
- Ensure your Base64 images are valid and not truncated.
- Make sure the custom JS and CSS are correctly referenced and injected.

---

**Happy Testing!**
